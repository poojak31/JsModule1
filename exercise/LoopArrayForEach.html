<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const toppings = [
        "mushrooms",
        "tomatoes",
        "eggs",
        "cheese",
        "chilies",
        "pickles"
      ];

      function logTopping(topping, index, OriginalArray) {
        const prevTopping = OriginalArray[index - 1];
        const nextTopping = OriginalArray[index + 1];

        //log the topping
        console.log(topping);

        //log the previous topping if there is one
        prevTopping ? console.log(prevTopping) : null;

        //log the next topping if there is one
        nextTopping ? console.log(nextTopping) : null;

        //if the last item in the array,say good bye
        index === OriginalArray.length - 1
          ? console.log("Good Bye")
          : console.log("getting the next Topping");
        console.log("..........***..........");
      }

      toppings.forEach(logTopping);

      /******Mapping*******/
      const people = [
        {
          BirthDate: "jan 31,1995",
          name: {
            first: "pooja",
            last: "kolape"
          }
        },
        {
          BirthDate: "march 07,1997",
          name: {
            first: "vivek",
            last: "kolape"
          }
        }
      ];
      function bosify(name) {
        return `${name} kolape`;
      }

      function capitalize(word) {
        return `${word[0].toUpperCase()}${word.slice(1)}`;
      }

      const fullname = ["pooja", "vivek"].map(capitalize).map(bosify);
      console.log(fullname);

      const cleanPeople = people.map(function(person) {
        const birthday = new Date(person.BirthDate).getTime();

        const now = Date.now();
        const age = Math.floor((now - birthday) / 31536000000);
        return {
          age,
          name: `${person.name.first} ${person.name.last}`
        };
      });
      console.table(cleanPeople);

      /*****Reduce*****/

      const TotalOrders = [524, 42, 965, 53, 74, 845, 12];

      function tallyNumbers(tally, currentTotal) {
        console.log(`the current tally is ${tally}`);
        console.log(`the current total is ${currentTotal}`);
        console.log(`****************`);

        return tally + currentTotal;
      }

      const allOrders = TotalOrders.reduce(tallyNumbers, 0);

      console.log(allOrders);
    </script>
  </body>
</html>
